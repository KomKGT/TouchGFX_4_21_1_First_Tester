/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/screen1_screen/Screen1ViewBase.hpp>
#include <touchgfx/Color.hpp>
#include <images/BitmapDatabase.hpp>

Screen1ViewBase::Screen1ViewBase() :
    updateItemCallback(this, &Screen1ViewBase::updateItemCallbackHandler),
    buttonCallback(this, &Screen1ViewBase::buttonCallbackHandler),
    interaction5EndedCallback(this, &Screen1ViewBase::interaction5EndedCallbackHandler)
{
    __background.setPosition(0, 0, 240, 320);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    add(__background);

    image1.setXY(-567, -280);
    image1.setBitmap(touchgfx::Bitmap(BITMAP_GLASS_THEME_IMAGES_BACKGROUNDS_1024X600_BUBBLES_TOXIC_ID));
    add(image1);

    scrollWheel1_1.setPosition(-240, 110, 240, 100);
    scrollWheel1_1.setHorizontal(true);
    scrollWheel1_1.setCircular(false);
    scrollWheel1_1.setEasingEquation(touchgfx::EasingEquations::quadEaseOut);
    scrollWheel1_1.setSwipeAcceleration(10);
    scrollWheel1_1.setDragAcceleration(10);
    scrollWheel1_1.setNumberOfItems(10);
    scrollWheel1_1.setSelectedItemOffset(1);
    scrollWheel1_1.setDrawableSize(100, 70);
    scrollWheel1_1.setDrawables(scrollWheel1_1ListItems, updateItemCallback);
    scrollWheel1_1.animateToItem(2, 0);
    add(scrollWheel1_1);

    buttonWithIcon1.setXY(180, 0);
    buttonWithIcon1.setBitmaps(touchgfx::Bitmap(BITMAP_ALTERNATE_THEME_IMAGES_WIDGETS_BUTTON_ICON_ROUND_TINY_FILL_NORMAL_ID), touchgfx::Bitmap(BITMAP_ALTERNATE_THEME_IMAGES_WIDGETS_BUTTON_ICON_ROUND_TINY_FILL_PRESSED_ID), touchgfx::Bitmap(BITMAP_ICON_THEME_IMAGES_NAVIGATION_APPS_50_50_E8F6FB_SVG_ID), touchgfx::Bitmap(BITMAP_ICON_THEME_IMAGES_NAVIGATION_APPS_50_50_E8F6FB_SVG_ID));
    buttonWithIcon1.setIconXY(5, 5);
    buttonWithIcon1.setAction(buttonCallback);
    add(buttonWithIcon1);

    buttonWithIcon2.setXY(-60, 0);
    buttonWithIcon2.setBitmaps(touchgfx::Bitmap(BITMAP_ALTERNATE_THEME_IMAGES_WIDGETS_BUTTON_ICON_ROUND_TINY_FILL_NORMAL_ID), touchgfx::Bitmap(BITMAP_ALTERNATE_THEME_IMAGES_WIDGETS_BUTTON_ICON_ROUND_TINY_FILL_PRESSED_ID), touchgfx::Bitmap(BITMAP_ICON_THEME_IMAGES_NAVIGATION_ARROW_BACK_IOS_50_50_E8F6FB_SVG_ID), touchgfx::Bitmap(BITMAP_ICON_THEME_IMAGES_NAVIGATION_ARROW_BACK_IOS_50_50_E8F6FB_SVG_ID));
    buttonWithIcon2.setIconXY(5, 5);
    buttonWithIcon2.setAction(buttonCallback);
    add(buttonWithIcon2);
}

Screen1ViewBase::~Screen1ViewBase()
{

}

void Screen1ViewBase::setupScreen()
{
    scrollWheel1_1.initialize();
    for (int i = 0; i < scrollWheel1_1ListItems.getNumberOfDrawables(); i++)
    {
        scrollWheel1_1ListItems[i].initialize();
    }
}

void Screen1ViewBase::buttonCallbackHandler(const touchgfx::AbstractButton& src)
{
    if (&src == &buttonWithIcon1)
    {
        //Interaction1
        //When buttonWithIcon1 clicked show scrollWheel1_1
        //Show scrollWheel1_1

//        scrollWheel1_1.setVisible(true);
//        scrollWheel1_1.invalidate();
    	scrollWheel1_1.clearMoveAnimationEndedAction();
    	scrollWheel1_1.setMoveAnimationDelay(12);
    	scrollWheel1_1.startMoveAnimation(0, 110, 12, touchgfx::EasingEquations::linearEaseIn, touchgfx::EasingEquations::linearEaseIn);
    
        //Interaction2
        //When Interaction1 completed move buttonWithIcon1
        //Move buttonWithIcon1 to x:240, y:0 with LinearIn easing in 200 ms (12 Ticks)
        buttonWithIcon1.clearMoveAnimationEndedAction();
        buttonWithIcon1.setMoveAnimationDelay(12);
        buttonWithIcon1.startMoveAnimation(240, 0, 12, touchgfx::EasingEquations::linearEaseIn, touchgfx::EasingEquations::linearEaseIn);
    
    
        //Interaction3
        //When Interaction1 completed move buttonWithIcon2
        //Move buttonWithIcon2 to x:180, y:0 with LinearIn easing in 200 ms (12 Ticks)
        buttonWithIcon2.clearMoveAnimationEndedAction();
        buttonWithIcon2.setMoveAnimationDelay(12);
        buttonWithIcon2.startMoveAnimation(180, 0, 12, touchgfx::EasingEquations::linearEaseIn, touchgfx::EasingEquations::linearEaseIn);
    }
    if (&src == &buttonWithIcon2)
    {
        //Interaction4
        //When buttonWithIcon2 clicked hide scrollWheel1_1
        //Hide scrollWheel1_1
//        scrollWheel1_1.setVisible(true);
//        scrollWheel1_1.invalidate();
    	scrollWheel1_1.clearMoveAnimationEndedAction();
    	scrollWheel1_1.setMoveAnimationDelay(12);
    	scrollWheel1_1.startMoveAnimation(-240, 110, 12, touchgfx::EasingEquations::linearEaseIn, touchgfx::EasingEquations::linearEaseIn);
    
        //Interaction5
        //When Interaction4 completed move buttonWithIcon2
        //Move buttonWithIcon2 to x:-60, y:0 with LinearIn easing in 200 ms (12 Ticks)
        buttonWithIcon2.clearMoveAnimationEndedAction();
        buttonWithIcon2.setMoveAnimationDelay(12);
        buttonWithIcon2.startMoveAnimation(-60, 0, 12, touchgfx::EasingEquations::linearEaseIn, touchgfx::EasingEquations::linearEaseIn);
        buttonWithIcon2.setMoveAnimationEndedAction(interaction5EndedCallback);
    }
}

void Screen1ViewBase::interaction5EndedCallbackHandler(const touchgfx::MoveAnimator<touchgfx::ButtonWithIcon>& comp)
{
    //Interaction6
    //When Interaction5 completed move buttonWithIcon1
    //Move buttonWithIcon1 to x:180, y:0 with LinearIn easing in 200 ms (12 Ticks)
    buttonWithIcon1.clearMoveAnimationEndedAction();
    buttonWithIcon1.setMoveAnimationDelay(12);
    buttonWithIcon1.startMoveAnimation(180, 0, 12, touchgfx::EasingEquations::linearEaseIn, touchgfx::EasingEquations::linearEaseIn);
}

void Screen1ViewBase::updateItemCallbackHandler(touchgfx::DrawableListItemsInterface* items, int16_t containerIndex, int16_t itemIndex)
{
    if (items == &scrollWheel1_1ListItems)
    {
        touchgfx::Drawable* d = items->getDrawable(containerIndex);
        CustomContainer1* cc = (CustomContainer1*)d;
        scrollWheel1_1UpdateItem(*cc, itemIndex);
    }
}
